<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="robots" content="noindex,nofollow" />
  <title>é–‹ãæ–¹ã®ã”æ¡ˆå†…</title>

  <style>
    :root{
      --bg1:#fff7fb; --bg2:#f3fbff;
      --card:#ffffffcc; --text:#2b2b2b; --muted:#666;
      --primary1:#a7f3d0; --primary2:#93c5fd; --primaryText:#0b1b2a;
      --subBg:#fff; --subBorder:#e7e7ef;
      --shadow: 0 12px 30px rgba(20, 20, 40, 0.10);
      --radius: 18px;
    }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", sans-serif;
      color: var(--text);
      background:
        radial-gradient(800px 400px at 15% 10%, var(--bg1), transparent 60%),
        radial-gradient(900px 500px at 85% 15%, var(--bg2), transparent 60%),
        linear-gradient(180deg, #ffffff, #f7f7ff);
      min-height: 100vh;
    }
    .wrap{min-height:100vh;display:grid;place-items:center;padding:22px;box-sizing:border-box;}
    .card{
      width:min(560px,100%);
      background:var(--card);
      border:1px solid rgba(230,230,245,0.9);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      backdrop-filter: blur(8px);
      padding:18px 18px 16px;
    }
    .title{display:flex;align-items:center;gap:10px;margin:0 0 10px 0;font-weight:800;font-size:18px;}
    .badge{
      width:34px;height:34px;border-radius:12px;display:grid;place-items:center;
      background: linear-gradient(135deg, #ffd6e8, #d9f2ff);
      border:1px solid rgba(220,220,240,0.9);
      box-shadow:0 8px 18px rgba(40,40,80,0.08);
      font-size:18px;
    }
    .msg{margin:0 0 14px 0;color:var(--muted);line-height:1.75;font-size:14.5px;}
    .btn{
      width:100%;
      border-radius:14px;
      padding:13px 14px;
      border:1px solid transparent;
      font-size:16px;
      cursor:pointer;
      user-select:none;
      transition: transform .04s ease, box-shadow .12s ease, filter .12s ease;
    }
    .btn:active{transform: translateY(1px);}
    .btnPrimary{
      background: linear-gradient(135deg, var(--primary1), var(--primary2));
      color: var(--primaryText);
      font-weight: 900;
      box-shadow: 0 14px 26px rgba(120, 170, 255, 0.22);
      border: 1px solid rgba(140, 180, 255, 0.35);
    }
    .btnPrimary:hover{filter: brightness(1.02);}
    .btnSub{
      margin-top:10px;
      background: var(--subBg);
      color:#333;
      border:1px solid var(--subBorder);
      box-shadow:0 10px 18px rgba(20,20,40,0.06);
      font-weight:700;
    }
    .toast{
      position:fixed;left:50%;bottom:16px;transform:translateX(-50%);
      background: rgba(255,255,255,0.92);
      color:#2b2b2b;
      border:1px solid rgba(220,220,235,0.95);
      border-radius:12px;
      padding:10px 12px;
      box-shadow:0 14px 26px rgba(20,20,40,0.12);
      display:none;font-size:13px;
    }
    @media (max-width:420px){
      .card{padding:16px 14px 14px;}
      .msg{font-size:14px;}
      .btn{font-size:15.5px;}
    }
  </style>
</head>

<body>
<script>
  // â˜…æ¯å›ã“ã“ã ã‘æ›´æ–°ï¼šGeminiå…±æœ‰URL
  const TARGET_URL = "https://gemini.google.com/share/d124a4436bc3";

  const ua = navigator.userAgent || "";

  // ---- åˆ¤å®šæ–¹é‡ ----
  // PCï¼šå…¨éƒ¨OKï¼ˆå³Geminiã¸ï¼‰
  // ã‚¹ãƒãƒ›ï¼šè¨±å¯ã™ã‚‹ã®ã¯ä»¥ä¸‹ã®ã¿
  //   - iOS Safari
  //   - iOS Chromeï¼ˆCriOSï¼‰
  //   - Android Chromeï¼ˆãŸã ã—WebView/LINEã‚’é™¤å¤–ï¼‰
  // ãã‚Œä»¥å¤–ï¼šæ¡ˆå†…ç”»é¢

  const isMobile = /Android|iPhone|iPad|iPod/i.test(ua);
  const isIOS = /iPhone|iPad|iPod/i.test(ua);
  const isAndroid = /Android/i.test(ua);

  // ã‚¢ãƒ—ãƒªå†…ãƒ–ãƒ©ã‚¦ã‚¶/åŸ‹ã‚è¾¼ã¿WebViewã®å¼·ã„ã‚·ã‚°ãƒŠãƒ«ï¼ˆå…¥ã£ã¦ãŸã‚‰å¼¾ãï¼‰
  const isInAppStrong =
    /Line\//i.test(ua) ||            // LINEå†…ãƒ–ãƒ©ã‚¦ã‚¶
    /;\s*wv\)/i.test(ua) ||          // Android WebViewã®å°
    /Version\/4\.0/i.test(ua);       // Android WebViewã§ã‚ã‚ŠãŒã¡

  // iOS Safari åˆ¤å®šï¼šSafariã‚’å«ã¿ã€ä»–ãƒ–ãƒ©ã‚¦ã‚¶å°ãŒãªã„
  const isSafari =
    isIOS &&
    /Safari/i.test(ua) &&
    !/CriOS|FxiOS|EdgiOS|OPiOS|GSA|Line\//i.test(ua);

  // iOS Chrome åˆ¤å®š
  const isChromeIOS = isIOS && /CriOS/i.test(ua);

  // Android Chrome åˆ¤å®šï¼šChrome/Chromium ã‚’å«ã¿ã€ã‹ã¤ WebView/LINE ã§ã¯ãªã„
  const isChromeAndroid =
    isAndroid &&
    /Chrome\/|Chromium\//i.test(ua) &&
    !/Edg|OPR|SamsungBrowser/i.test(ua) &&
    !isInAppStrong;

  const allowOnMobile = (isSafari || isChromeIOS || isChromeAndroid);

  function toast(msg){
    const el = document.getElementById("toast");
    el.textContent = msg;
    el.style.display = "block";
    clearTimeout(window.__t);
    window.__t = setTimeout(()=> el.style.display="none", 1700);
  }

  function makeChromeIntent(url){
    // Androidå‘ã‘ï¼šChrome intentï¼ˆç«¯æœ«/ã‚¢ãƒ—ãƒªå´ã§ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚‹ï¼‰
    const u = new URL(url);
    const fallback = encodeURIComponent(url);
    return `intent://${u.host}${u.pathname}${u.search}#Intent;scheme=https;package=com.android.chrome;S.browser_fallback_url=${fallback};end`;
  }

  async function copyLink(){
    try{
      await navigator.clipboard.writeText(TARGET_URL);
      toast("ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼");
    }catch(e){
      const ta=document.createElement("textarea");
      ta.value=TARGET_URL; document.body.appendChild(ta);
      ta.select(); document.execCommand("copy"); document.body.removeChild(ta);
      toast("ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼");
    }
  }

  function openExternal(){
    if (isAndroid) {
      // Androidã¯Chromeèµ·å‹•ã‚’è©¦ã¿ã‚‹ï¼ˆãƒ–ãƒ­ãƒƒã‚¯æ™‚ã¯ã‚³ãƒ”ãƒ¼ã§é€ƒã’ã‚‹ï¼‰
      location.href = makeChromeIntent(TARGET_URL);
      return;
    }
    // iOSã¯å¼·åˆ¶ä¸å¯ãªã®ã§ã€æ–°è¦ã‚¿ãƒ–ã‚’è©¦ã™ï¼ˆã ã‚ã§ã‚‚ã‚³ãƒ”ãƒ¼ã§OKï¼‰
    window.open(TARGET_URL, "_blank", "noopener,noreferrer");
  }

  // âœ… ãƒ«ãƒ¼ãƒ«é©ç”¨
  if (!isMobile) {
    // PCã¯å…¨éƒ¨OK
    location.replace(TARGET_URL);
  } else if (allowOnMobile) {
    // ã‚¹ãƒãƒ›ã§ã‚‚è¨±å¯ã•ã‚ŒãŸãƒ–ãƒ©ã‚¦ã‚¶ã¯OK
    location.replace(TARGET_URL);
  } else {
    // æ¡ˆå†…ç”»é¢è¡¨ç¤ºï¼ˆã“ã“ã«ç•™ã¾ã‚‹ï¼‰
    window.__APP__ = { openExternal, copyLink };
  }
</script>

<div class="wrap">
  <div class="card">
    <div class="title">
      <div class="badge">ğŸŒ·</div>
      é–‹ãæ–¹ã®ã”æ¡ˆå†…
    </div>

    <p class="msg">
      ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯ã†ã¾ãå‹•ä½œã—ãªã„ãŸã‚ã€<br>
      Chromeã‹Safariã®ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã„ã¦ãã ã•ã„ğŸ’¦<br><br>
      ä¸‹ã®ãƒœã‚¿ãƒ³ã‹ã‚‰ç§»å‹•ã™ã‚‹ã‹ã€<br>
      URLã‚’ã‚³ãƒ”ãƒšã—ã¦ãŠæ¥½ã—ã¿ãã ã•ã„ï¼
    </p>

    <button class="btn btnPrimary" onclick="__APP__.openExternal()">
      å¤–éƒ¨ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã
    </button>

    <button class="btn btnSub" onclick="__APP__.copyLink()">
      ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼
    </button>
  </div>
</div>

<div class="toast" id="toast"></div>
</body>
</html>
